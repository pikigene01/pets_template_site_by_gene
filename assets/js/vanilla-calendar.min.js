!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["my-library"]=t():e["my-library"]=t()}(self,()=>(()=>{"use strict";var n={d:(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},e={};function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n.r(e),n.d(e,{default:()=>s});t((l=i).prototype,[{key:"generateDate",value:function(e){var t=e.getUTCFullYear(),a=e.getUTCMonth()+1,e=e.getUTCDate(),a=a<10?"0".concat(a):a,e=e<10?"0".concat(e):e;return"".concat(t,"-").concat(a,"-").concat(e)}},{key:"setVariablesDates",value:function(){this.selectedDates=[],this.selectedMonth=this.date.today.getUTCMonth(),this.selectedYear=this.date.today.getUTCFullYear(),null!==this.settings.selected.dates&&(this.selectedDates=this.settings.selected.dates),null!==this.settings.selected.month&&0<=this.settings.selected.month&&this.settings.selected.month<12&&(this.selectedMonth=this.settings.selected.month),null!==this.settings.selected.year&&0<=this.settings.selected.year&&this.settings.selected.year<=9999&&(this.selectedYear=this.settings.selected.year),this.viewYear=this.selectedYear,this.dateMin=this.settings.visibility.disabled?new Date(this.date.min):new Date(this.settings.range.min),this.dateMax=this.settings.visibility.disabled?new Date(this.date.max):new Date(this.settings.range.max)}},{key:"createDOM",value:function(){"default"===this.currentType?(this.HTMLElement.classList.add("vanilla-calendar_default"),this.HTMLElement.classList.remove("vanilla-calendar_month"),this.HTMLElement.classList.remove("vanilla-calendar_year"),this.HTMLElement.innerHTML='\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev"\n\t\t\t\t\ttitle="prev">\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content"></div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next"\n\t\t\t\t\ttitle="next">\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t'.concat(this.settings.visibility.weekNumbers?'\n\t\t\t<div class="vanilla-calendar-column">\n\t\t\t\t<b class="vanilla-calendar-column__title">#</b>\n\t\t\t\t<div class="vanilla-calendar-column__content vanilla-calendar-week-numbers"></div>\n\t\t\t</div>\n\t\t\t':"",'\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-week"></div>\n\t\t\t\t<div class="vanilla-calendar-days"></div>\n\t\t\t</div>\n\t\t')):"month"===this.currentType?(this.HTMLElement.classList.remove("vanilla-calendar_default"),this.HTMLElement.classList.add("vanilla-calendar_month"),this.HTMLElement.classList.remove("vanilla-calendar_year"),this.HTMLElement.innerHTML='\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<div class="vanilla-calendar-header__content"></div>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-months"></div>\n\t\t\t</div>'):"year"===this.currentType&&(this.HTMLElement.classList.remove("vanilla-calendar_default"),this.HTMLElement.classList.remove("vanilla-calendar_month"),this.HTMLElement.classList.add("vanilla-calendar_year"),this.HTMLElement.innerHTML='\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev"\n\t\t\t\t\ttitle="prev">\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content"></div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next"\n\t\t\t\t\ttitle="next">\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-years"></div>\n\t\t\t</div>')}},{key:"createHeader",value:function(){var e=this.HTMLElement.querySelector(".vanilla-calendar-header__content"),t=this.settings.selection.month?"":" vanilla-calendar-month_disabled",a=this.settings.selection.year?"":" vanilla-calendar-year_disabled",t='\n\t\t<button type="button"\n\t\t\tclass="vanilla-calendar-month'.concat(t,'">\n\t\t\t').concat(this.locale.months[this.selectedMonth],"\n\t\t</button>").replace(/[\n\t]/g,""),a='\n\t\t<button type="button"\n\t\t\tclass="vanilla-calendar-year'.concat(a,'">\n\t\t\t').concat(this.selectedYear,"\n\t\t</button>").replace(/[\n\t]/g,""),t=(t=this.settings.visibility.templateHeader.replace("%M",t)).replace("%Y",a);e.innerHTML=t}},{key:"controlArrows",value:function(){var e,t,a,n,l,s,i=this;["default","year"].includes(this.currentType)&&(e=this.HTMLElement.querySelector(".vanilla-calendar-arrow_prev"),t=this.HTMLElement.querySelector(".vanilla-calendar-arrow_next"),"default"===i.currentType&&(a=i.selectedMonth===i.dateMin.getUTCMonth(),n=i.selectedMonth===i.dateMax.getUTCMonth(),l=i.selectedYear===i.dateMin.getUTCFullYear(),s=i.selectedYear===i.dateMax.getUTCFullYear(),a&&l||!i.settings.selection.month?e.style.visibility="hidden":e.style.visibility=null,n&&s||!i.settings.selection.month?t.style.visibility="hidden":t.style.visibility=null),"year"===i.currentType&&(i.dateMin.getUTCFullYear()&&i.viewYear-7<=i.dateMin.getUTCFullYear()?e.style.visibility="hidden":e.style.visibility=null,i.dateMax.getUTCFullYear()&&i.viewYear+7>=i.dateMax.getUTCFullYear()?t.style.visibility="hidden":t.style.visibility=null))}},{key:"createWeek",value:function(){var e,t=this.HTMLElement.querySelector(".vanilla-calendar-week"),a=document.createElement("b"),n=(a.className="vanilla-calendar-week__day",function(e){if(Array.isArray(e))return r(e)}(e=this.locale.weekday)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e,t){var a;if(e)return"string"==typeof e?r(e,t):"Map"===(a="Object"===(a=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());this.settings.iso8601&&n.push(n.shift()),t.innerHTML="";for(var l=0;l<n.length;l++){var s=n[l],i=a.cloneNode(!0);this.settings.visibility.weekend&&this.settings.iso8601?5!==l&&6!==l||i.classList.add("vanilla-calendar-week__day_weekend"):!this.settings.visibility.weekend||this.settings.iso8601||0!==l&&6!==l||i.classList.add("vanilla-calendar-week__day_weekend"),i.innerText="".concat(s),t.append(i)}}},{key:"getWeekNumber",value:function(e){var t=new Date(e).getUTCDate(),a=new Date(e).getUTCMonth(),e=new Date(e).getUTCFullYear(),e=new Date(e,a,t),a=new Date(Date.UTC(e.getUTCFullYear(),0,1)),t=Math.ceil(((e-a)/864e5+1)/7);return{year:e.getUTCFullYear(),week:t}}},{key:"createWeekNumbers",value:function(e,t){if(this.settings.visibility.weekNumbers){var a=this.HTMLElement.querySelector(".vanilla-calendar-week-numbers"),n=this.HTMLElement.querySelectorAll(".vanilla-calendar-day__btn"),l=Math.ceil((e+t)/7),s=document.createElement("span");s.className="vanilla-calendar-week-number",a.innerHTML="";for(var i=0;i<l;i++){var r=this.getWeekNumber(n[7*i].dataset.calendarDay),c=s.cloneNode(!0);c.innerText="".concat(r.week),c.dataset.calendarYear="".concat(r.year),a.append(c)}}}},{key:"createPopup",value:function(e){if(this.popups)for(var t in this.popups)if(Object.hasOwnProperty.call(this.popups,t)){var a=e.querySelector('[data-calendar-day="'.concat(t,'"]'));if(!a)return;t=this.popups[t];a.classList.add(t.modifier),a.parentNode.innerHTML+='<div class="vanilla-calendar-day__popup">'.concat(t.html,"</div>")}}},{key:"createDays",value:function(){function e(e,t,a,n){var l,s,i=o.cloneNode(!0),r=u.cloneNode(!0);n&&r.classList.add(n),r.innerText=e,r.dataset.calendarDay=a,l=r,s=a,!c.settings.visibility.weekend||0!==t&&6!==t||l.classList.add("vanilla-calendar-day__btn_weekend"),Array.isArray(c.settings.selected.holidays)&&c.settings.selected.holidays.forEach(function(e){e===s&&l.classList.add("vanilla-calendar-day__btn_holiday")}),n=c.date.today.getUTCDate(),e=c.date.today.getUTCMonth()+1,n=n<10?"0".concat(n):n,e=e<10?"0".concat(e):e,e="".concat(c.date.today.getUTCFullYear(),"-").concat(e,"-").concat(n),c.settings.visibility.today&&l.dataset.calendarDay===e&&l.classList.add("vanilla-calendar-day__btn_today"),c.selectedDates.find(function(e){return e===s})&&l.classList.add("vanilla-calendar-day__btn_selected"),(c.settings.range.min>s||c.settings.range.max<s)&&l.classList.add("vanilla-calendar-day__btn_disabled"),Array.isArray(c.settings.range.disabled)&&c.settings.range.disabled.forEach(function(e){e===s&&l.classList.add("vanilla-calendar-day__btn_disabled")}),i.append(r),d.append(i)}var c=this,t=new Date(Date.UTC(this.selectedYear,this.selectedMonth,1)),a=new Date(Date.UTC(this.selectedYear,this.selectedMonth+1,0)).getUTCDate(),n=Number(t.getUTCDay()),d=(this.settings.iso8601&&(n=Number((0!==t.getUTCDay()?t.getUTCDay():7)-1)),this.HTMLElement.querySelector(".vanilla-calendar-days")),o=document.createElement("div"),u=document.createElement("button"),l=(o.className="vanilla-calendar-day",u.className="vanilla-calendar-day__btn",u.type="button",["single","multiple","multiple-ranged"].includes(this.settings.selection.day)&&d.classList.add("vanilla-calendar-days_selecting"),d.innerHTML="",new Date(Date.UTC(c.selectedYear,c.selectedMonth,0)).getUTCDate()-n),s=c.selectedYear,i=c.selectedMonth;0===c.selectedMonth?(i=c.locale.months.length,s=c.selectedYear-1):c.selectedMonth<10&&(i="0".concat(c.selectedMonth));for(var r=0;r<n;r++){l+=1;var h="".concat(s,"-").concat(i,"-").concat(l),y=new Date(Date.UTC(c.selectedYear,c.selectedMonth,l-1)).getUTCMonth()-1,y=new Date(Date.UTC(c.selectedYear,y,l)).getUTCDay();e(l,y,h,"vanilla-calendar-day__btn_prev")}for(var v=1;v<=a;v++){var g=new Date(Date.UTC(c.selectedYear,c.selectedMonth,v)),m=c.generateDate(g),g=g.getUTCDay();e(v,g,m)}var t=n+a,p=Math.ceil(t/c.locale.weekday.length),b=c.locale.weekday.length*p-t,T=c.selectedYear,M=c.selectedMonth+2;c.selectedMonth+1===c.locale.months.length?(M="01",T=c.selectedYear+1):c.selectedMonth+2<10&&(M="0".concat(c.selectedMonth+2));for(var _=1;_<=b;_++){var f=_<10?"0".concat(_):_,f="".concat(T,"-").concat(M,"-").concat(f),D=new Date(Date.UTC(c.selectedYear,c.selectedMonth,_)).getUTCMonth()+1,D=new Date(Date.UTC(c.selectedYear,D,_)).getUTCDay();e(_,D,f,"vanilla-calendar-day__btn_next")}this.createPopup(d),this.createWeekNumbers(n,a)}},{key:"changeMonth",value:function(e){var t=this.locale.months.length-1;switch(e){case"prev":0!==this.selectedMonth?--this.selectedMonth:this.settings.selection.year&&(--this.selectedYear,this.selectedMonth=t);break;case"next":this.selectedMonth!==t?this.selectedMonth+=1:this.settings.selection.year&&(this.selectedYear+=1,this.selectedMonth=0)}this.settings.selected.month=this.selectedMonth,this.settings.selected.year=this.selectedYear,this.createHeader(),this.controlArrows(),this.createDays()}},{key:"createYears",value:function(){this.currentType="year",this.createDOM(),this.createHeader(),this.controlArrows();var e=this.HTMLElement.querySelector(".vanilla-calendar-years"),t=(this.settings.selection.year&&e.classList.add("vanilla-calendar-years_selecting"),document.createElement("button"));t.type="button",t.className="vanilla-calendar-years__year";for(var a=this.viewYear-7;a<this.viewYear+8;a++){var n=a,l=t.cloneNode(!0);n===this.selectedYear&&l.classList.add("vanilla-calendar-years__year_selected"),n<this.dateMin.getUTCFullYear()&&l.classList.add("vanilla-calendar-years__year_disabled"),n>this.dateMax.getUTCFullYear()&&l.classList.add("vanilla-calendar-years__year_disabled"),l.dataset.calendarYear=n,l.innerText="".concat(n),e.append(l)}}},{key:"createMonths",value:function(){this.currentType="month",this.createDOM(),this.createHeader();var e=this.HTMLElement.querySelector(".vanilla-calendar-months"),t=(this.settings.selection.month&&e.classList.add("vanilla-calendar-months_selecting"),document.createElement("button"));t.type="button",t.className="vanilla-calendar-months__month";for(var a=0;a<this.locale.months.length;a++){var n=this.locale.months[a],l=t.cloneNode(!0);a===this.selectedMonth&&l.classList.add("vanilla-calendar-months__month_selected"),a<this.dateMin.getUTCMonth()&&this.selectedYear===this.dateMin.getUTCFullYear()&&l.classList.add("vanilla-calendar-months__month_disabled"),a>this.dateMax.getUTCMonth()&&this.selectedYear===this.dateMax.getUTCFullYear()&&l.classList.add("vanilla-calendar-months__month_disabled"),l.dataset.calendarMonth=a,l.title="".concat(n),l.innerText="".concat(this.settings.visibility.monthShort?n.substring(0,3):n),e.append(l)}}},{key:"getLocale",value:function(){if("define"!==this.settings.lang){this.locale.weekday=[];for(var e=0;e<7;e++){var t=new Date(0,0,e).toLocaleString(this.settings.lang,{weekday:"short"}),t=(t="".concat(t.charAt(0).toUpperCase()).concat(t.substring(1,t.length))).replace(/\./,"");this.locale.weekday.push(t)}this.locale.months=[];for(var a=0;a<12;a++){var n=new Date(0,a).toLocaleString(this.settings.lang,{month:"long"}),n=(n="".concat(n.charAt(0).toUpperCase()).concat(n.substring(1,n.length))).replace(/\./,"");this.locale.months.push(n)}}}},{key:"update",value:function(){this.setVariablesDates(),this.getLocale(),this.createDOM(),this.createHeader(),this.controlArrows(),"default"===this.currentType?(this.createWeek(),this.createDays()):"month"===this.currentType?this.createMonths():"year"===this.currentType&&this.createYears()}},{key:"click",value:function(){var m=this;this.HTMLElement.addEventListener("click",function(e){var t=e.target.closest(".vanilla-calendar-arrow"),a=e.target.closest(".vanilla-calendar-arrow_prev"),n=e.target.closest(".vanilla-calendar-arrow_next"),l=e.target.closest(".vanilla-calendar-day__btn"),s=e.target.closest(".vanilla-calendar-day__btn_prev"),i=e.target.closest(".vanilla-calendar-day__btn_next"),r=e.target.closest(".vanilla-calendar-year"),c=e.target.closest(".vanilla-calendar-years__year"),d=e.target.closest(".vanilla-calendar-month"),o=e.target.closest(".vanilla-calendar-months__month");if(["single","multiple","multiple-ranged"].includes(m.settings.selection.day)&&l){switch(m.settings.selection.day){case"single":l.classList.contains("vanilla-calendar-day_selected")?m.selectedDates.splice(m.selectedDates.indexOf(l.dataset.calendarDay),1):(m.selectedDates=[],m.selectedDates.push(l.dataset.calendarDay));break;case"multiple":l.classList.contains("vanilla-calendar-day_selected")?m.selectedDates.splice(m.selectedDates.indexOf(l.dataset.calendarDay),1):m.selectedDates.push(l.dataset.calendarDay);break;case"multiple-ranged":if(1<m.selectedDates.length&&(m.selectedDates=[]),m.selectedDates.push(l.dataset.calendarDay),m.selectedDates[1]){var u=new Date(Date.UTC(new Date(m.selectedDates[0]).getUTCFullYear(),new Date(m.selectedDates[0]).getUTCMonth(),new Date(m.selectedDates[0]).getUTCDate())),h=new Date(Date.UTC(new Date(m.selectedDates[1]).getUTCFullYear(),new Date(m.selectedDates[1]).getUTCMonth(),new Date(m.selectedDates[1]).getUTCDate())),y=function(e){e=m.generateDate(e);m.settings.range.disabled&&m.settings.range.disabled.includes(e)||m.selectedDates.push(e)};if(m.selectedDates=[],u<h)for(var v=u;v<=h;v.setUTCDate(v.getUTCDate()+1))y(v);else for(var g=u;h<=g;g.setUTCDate(g.getUTCDate()-1))y(g)}}m.actions.clickDay&&m.actions.clickDay(e),m.settings.selected.dates=m.selectedDates,s?m.changeMonth("prev"):i?m.changeMonth("next"):m.createDays()}else t&&"year"!==m.currentType&&"month"!==m.currentType&&m.changeMonth(e.target.title);m.settings.selection.year&&(t&&"year"===m.currentType?(n?m.viewYear+=15:a&&(m.viewYear-=15),m.createYears()):"year"!==m.currentType&&r?m.createYears():"year"===m.currentType&&r?(m.currentType=m.type,m.update()):c&&(s=Number(c.dataset.calendarYear),m.currentType=m.type,m.selectedMonth<m.dateMin.getUTCMonth()&&s===m.dateMin.getUTCFullYear()&&(m.settings.selected.month=m.dateMin.getUTCMonth()),m.selectedMonth>m.dateMax.getUTCMonth()&&s===m.dateMax.getUTCFullYear()&&(m.settings.selected.month=m.dateMax.getUTCMonth()),m.actions.clickYear&&m.actions.clickYear(e),m.settings.selected.year=s,m.update())),m.settings.selection.month&&("month"!==m.currentType&&d?m.createMonths():"month"===m.currentType&&d?(m.currentType=m.type,m.update()):o&&(i=Number(o.dataset.calendarMonth),m.currentType=m.type,m.actions.clickMonth&&m.actions.clickMonth(e),m.settings.selected.month=i,m.update()))})}},{key:"init",value:function(){this.HTMLElement&&(this.update(),this.click())}}]),Object.defineProperty(l,"prototype",{writable:!1});var l,s=i;function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.HTMLElement="object"===a(e)?e:document.querySelector(e),this.HTMLElement&&(this.type=null!=(e=null==t?void 0:t.type)?e:"default",this.date={min:null!=(e=null==t||null==(e=t.date)?void 0:e.min)?e:"1970-01-01",max:null!=(e=null==t||null==(e=t.date)?void 0:e.max)?e:"2470-12-31",today:null!=(e=null==t||null==(e=t.date)?void 0:e.today)?e:new Date},this.settings={lang:null!=(e=null==t||null==(e=t.settings)?void 0:e.lang)?e:"en",iso8601:null==(e=null==t||null==(e=t.settings)?void 0:e.iso8601)||e,range:{min:null!=(e=null==t||null==(e=t.settings)||null==(e=e.range)?void 0:e.min)?e:this.date.min,max:null!=(e=null==t||null==(e=t.settings)||null==(e=e.range)?void 0:e.max)?e:this.date.max,disabled:null!=(e=null==t||null==(e=t.settings)||null==(e=e.range)?void 0:e.disabled)?e:null},selection:{day:null!=(e=null==t||null==(e=t.settings)||null==(e=e.selection)?void 0:e.day)?e:"single",month:null==(e=null==t||null==(e=t.settings)||null==(e=e.selection)?void 0:e.month)||e,year:null==(e=null==t||null==(e=t.settings)||null==(e=e.selection)?void 0:e.year)||e},selected:{dates:null!=(e=null==t||null==(e=t.settings)||null==(e=e.selected)?void 0:e.dates)?e:null,month:null!=(e=null==t||null==(e=t.settings)||null==(e=e.selected)?void 0:e.month)?e:null,year:null!=(e=null==t||null==(e=t.settings)||null==(e=e.selected)?void 0:e.year)?e:null,holidays:null!=(e=null==t||null==(e=t.settings)||null==(e=e.selected)?void 0:e.holidays)?e:null},visibility:{templateHeader:null!=(e=null==t||null==(e=t.settings)||null==(e=e.visibility)?void 0:e.templateHeader)?e:"%M %Y",monthShort:null==(e=null==t||null==(e=t.settings)||null==(e=e.visibility)?void 0:e.monthShort)||e,weekNumbers:null!=(e=null==t||null==(e=t.settings)||null==(e=e.visibility)?void 0:e.weekNumbers)&&e,weekend:null==(e=null==t||null==(e=t.settings)||null==(e=e.visibility)?void 0:e.weekend)||e,today:null==(e=null==t||null==(e=t.settings)||null==(e=e.visibility)?void 0:e.today)||e,disabled:null!=(e=null==t||null==(e=t.settings)||null==(e=e.visibility)?void 0:e.disabled)&&e}},this.locale={months:null!=(e=null==t||null==(e=t.locale)?void 0:e.months)?e:[],weekday:null!=(e=null==t||null==(e=t.locale)?void 0:e.weekday)?e:[]},this.actions={clickDay:null!=(e=null==t||null==(e=t.actions)?void 0:e.clickDay)?e:null,clickMonth:null!=(e=null==t||null==(e=t.actions)?void 0:e.clickMonth)?e:null,clickYear:null!=(e=null==t||null==(e=t.actions)?void 0:e.clickYear)?e:null},this.popups=null!=(e=null==t?void 0:t.popups)?e:null,this.currentType=this.type)}return window.VanillaCalendar=s,e})());